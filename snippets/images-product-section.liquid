<section
  style="--custom-text-color: {{ bg_color }}; --custom-bg-color: {{ text_color }};"
  class="sticky md:top-9 top-7"
>
  <div class="swiper main-product md:rounded-2xl overflow-hidden md:max-w-[100vh]">
    <div class="swiper-wrapper">
      {% for image in images %}
        <div class="swiper-slide w-full aspect-square">
          <img
            src="{{ image | image_url: width: 715 }}"
            width="715"
            height="715"
            class="object-center object-cover size-full"
            alt="main image"
          >
        </div>
      {% endfor %}
    </div>
    <div class="md:hidden">
      <div class="swiper-button-prev [&_svg]:!size-[18px] bg-[var(--custom-bg-color)] opacity-60 rounded-full !size-[30px]">
        <svg
          class="scale-x-[-1] text-[var(--custom-text-color)]"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 40 40"
          width="18"
          height="18"
          focusable="false"
        >
          <path d="m15.5 0.932-4.3 4.38 14.5 14.6-14.5 14.5 4.3 4.4 14.6-14.6 4.4-4.3-4.4-4.4-14.6-14.6z"></path>
        </svg>
      </div>
      <div class="swiper-button-next [&_svg]:!size-[18px] bg-[var(--custom-bg-color)] opacity-60 rounded-full !size-[30px]">
        <svg
          class="text-[var(--custom-text-color)]"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 40 40"
          width="18"
          height="18"
          focusable="false"
        >
          <path d="m15.5 0.932-4.3 4.38 14.5 14.6-14.5 14.5 4.3 4.4 14.6-14.6 4.4-4.3-4.4-4.4-14.6-14.6z"></path>
        </svg>
      </div>
    </div>
  </div>
  <div class="swiper thumb-product !hidden md:!block">
    <div class="swiper-wrapper">
      {% for image in images %}
        <div class="swiper-slide w-full aspect-square [&.swiper-slide-thumb-active_img]:border">
          <img
            style="border-color: {{ text_color }}"
            src="{{ image | image_url: width: 135 }}"
            width="715"
            height="715"
            class="object-center object-cover rounded-xl size-full"
            alt="thumb image"
          >
        </div>
      {% endfor %}
    </div>
  </div>
</section>

{% javascript %}
  document.addEventListener('DOMContentLoaded', function () {
    const thumbsSwiper = new Swiper('.thumb-product', {
      spaceBetween: 10,
      slidesPerView: 5,
      freeMode: true,
      watchSlidesProgress: true,
    });

    const mainSwiper = new Swiper('.main-product', {
      spaceBetween: 0,
      loop: true,
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },
      thumbs: {
        swiper: thumbsSwiper,
      },
    });
  });
{% endjavascript %}
